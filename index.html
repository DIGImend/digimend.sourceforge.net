<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
            "http://www.w3.org/TR/html4/strict.dtd">
<html>
    <head>
        <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
        <title>DIGImend project</title>
        <style type="text/css">
            img {
                border-style: none;
            }
            tbody th {
                text-align: right;
                vertical-align: top;
                line-height: 1.4em;
            }
            tbody th:after {
                content: ":";
            }
            td {
                vertical-align: top;
                line-height: 1.4em;
            }

        </style>
    </head>
    <body>
        <h1>DIGI<em>mend</em> project</h1>

        <blockquote>
            <p>
                DIGI<em>mend</em> &mdash; digitizer mending. Improving Linux
                support for generic graphics tablets. 
            </p>
        </blockquote>

        <!--  ---------------------------------------------------------  -->
        <h2>About</h2>
        <!--  ---------------------------------------------------------  -->
        <p>
            DIGI<em>mend</em> project aims at improving Linux support for
            generic graphics tablets &mdash; those which are cheap, widespread,
            but don't have a proper, dedicated, Linux driver.
        </p>

        <p>
            Essentially, these are any USB-connected tablets not made by Wacom.
            For the latter see
            <a href="http://linuxwacom.sourceforge.net/">The Linux Wacom Project</a>.
        </p>

        <p>
            The project's subjects, instead, are the tablets made by such
            manufacturers as Genius, Trust, Adesso, DigiPro, Vistablet and
            others.
        </p>

        <!--  ---------------------------------------------------------  -->
        <h2>Roadmap</h2>
        <!--  ---------------------------------------------------------  -->
        <p>
            The plan, in the first place, is to make these tablets work
            correctly with the Linux kernel's generic USB HID driver. The
            project is based on the assumption that the main problem with
            the kernel support are incorrect or incomplete HID report
            descriptors which the tablets provide.
        </p>

        <p>
            For this to be possible the following tools are needed: a USB
            HID report descriptor dumping and editing utilities, HID
            report stream dumping utility, evdev event stream dumping
            utility. Of these the HID report stream dumping utility is
            missing and the editing utility is incomplete. However, these
            are the most difficult to implement.
        </p>

        <p>
            The next layer to fix is the generic X.org input driver &mdash;
            evdev. It needs to be extended to support tablets better.
        </p>

        <p>
            At last, the most remote task is to improve user experience by
            providing GUI tools for tuning tablet response for the input.
            This they really need &mdash; the general quality of such
            tablets is not very high and input could be quirky and
            unreliable.
        </p>

        <!--  ---------------------------------------------------------  -->
        <h2>Sub-projects</h2>
        <!--  ---------------------------------------------------------  -->

        <p>
            There is no single program which makes the tablets work, but
            rather a collection of patches, programs and tools which help
            make them.
        </p>

        <h3><a id="proj-kernel-patches"></a>Kernel patches</h3>

        <table>
            <tbody>
                <tr>
                    <th>Status</th>
                    <td>Proof-of-concept</td>
                </tr>
                <tr>
                    <th>License</th>
                    <td>GPL v2</td>
                </tr>
                <tr>
                    <th>Sources</th>
                    <td>
                        <a href="http://digimend.svn.sourceforge.net/viewvc/digimend/kernel-patches/">SVN browse</a>
                        <a href="https://digimend.svn.sourceforge.net/svnroot/digimend/kernel-patches/">SVN tree</a>
                    </td>
                </tr>
            </tbody>
        </table>

        <h4>About</h4>
        <p>
            Only proof of concept work has been done: the patches fix
            support for tablets based on UC-LOGIC WP8060U, namely Genius
            MousePen 8x6.
        </p>

        <h4>Roadmap</h4>
        <p>
            When required tools are implemented, support for more devices
            will be added and the attempts to submit to upstream will start.

            The priority is the most widely available unsupported devices
            and kernel versions used by stable distributions.
        </p>

        <h3><a id="proj-evdev-patches"></a>X.org patches</h3>

        <table>
            <tbody>
                <tr>
                    <th>Status</th>
                    <td>Proof-of-concept</td>
                </tr>
                <tr>
                    <th>License</th>
                    <td>MIT</td>
                </tr>
                <tr>
                    <th>Sources</th>
                    <td>
                        <a href="http://digimend.svn.sourceforge.net/viewvc/digimend/evdev-patches/">SVN browse</a>
                        <a href="https://digimend.svn.sourceforge.net/svnroot/digimend/evdev-patches/">SVN tree</a>
                    </td>
                </tr>
            </tbody>
        </table>

        <h4>About</h4>
        <p>
            Only proof of concept work has been done: the only working
            version of the patch is for 1:2.0.8-1 Debian version of the
            evdev driver. The patch wasn't accepted by the original
            developer because it tries to cater to The GIMP's
            idiosyncrasies.
        </p>

        <h4>Roadmap</h4>
        <p>
            After the fixing of the kernel support will be made possible
            with the implementation of the required tools, the work on evdev
            patches will be continued and negotiations with the original
            developer will be resumed.
        </p>

        <h3><a id="proj-hidrd"></a>HID report descriptor library and tools &mdash; <em>hidrd</em></h3>

        <table>
            <tbody>
                <tr>
                    <th>Status</th>
                    <td>Release 0.1.1 available</td>
                </tr>
                <tr>
                    <th>License</th>
                    <td>GPL v2 or later</td>
                </tr>
                <tr>
                    <th>Sources</th>
                    <td>
                        <a href="https://sourceforge.net/projects/digimend/files/hidrd/">Release tarballs</a>
                        <a href="http://digimend.svn.sourceforge.net/viewvc/digimend/hidrd/">SVN browse</a>
                        <a href="https://digimend.svn.sourceforge.net/svnroot/digimend/hidrd/">SVN tree</a>
                    </td>
                </tr>
                <tr>
                    <th>Bugs</th>
                    <td>
                        <a href="https://sourceforge.net/tracker/?func=browse&amp;group_id=233297&amp;atid=1089171&amp;category=1344007">Browse</a>
                        <a href="https://sourceforge.net/tracker/?func=add&amp;group_id=233297&amp;atid=1089171">Submit</a> (please use hidrd category)
                    </td>
                </tr>
            </tbody>
        </table>

        <h4>About</h4>
        <p>
            <em>Hidrd</em> is a library and collection of tools for parsing and
            generating HID report descriptors. The main documents used during
            the implementation are
            <a href="http://www.usb.org/developers/devclass_docs/HID1_11.pdf">Device Class Definition for HID 1.11</a>
            and
            <a href="http://www.usb.org/developers/devclass_docs/Hut1_12.pdf">HID Usage Tables 1.12</a>.
        </p>
        <p>
            Currently, native descriptor format is fully supported.  A HID
            report descriptor XML schema is developed and XML writing is
            supported.  A tool called &quot;<em>hidrd-convert</em>&quot; is
            implemented and could be used to convert descriptors from native to
            XML format.
        </p>

        <h4>Roadmap</h4>
        <p>
            The main goal currently is to have XML reading. For that to be done
            efficiently a refactoring of streams library is needed &mdash; most
            probably they will be separated into sources and sinks (bug
            <a href="https://sourceforge.net/tracker/?func=detail&amp;aid=2941208&amp;group_id=233297&amp;atid=1089171">2941208</a>)
            with an addition of filters.  Also, source file references (bug
            <a href="https://sourceforge.net/tracker/?func=detail&amp;aid=2951097&amp;group_id=233297&amp;atid=1089171">2951097</a>)
            and conversion error reporting are better be implemented along with
            XML reading.
        </p>
        <p>
            Then validation needs to be cleaned up (bugs
            <a href="https://sourceforge.net/tracker/?func=detail&amp;aid=2950561&amp;group_id=233297&amp;atid=1089171">2950561</a>
            and
            <a href="https://sourceforge.net/tracker/?func=detail&amp;aid=2941207&amp;group_id=233297&amp;atid=1089171">2941207</a>).
            After that, the time may come to implement a stream validation
            filter with recommendations from
            <a href="http://www.usb.org/developers/hidpage/hidpar.pdf">HID Parser Error Checking</a>.
        </p>
        <p>
            At some point in time support for outputting to C source and HID specification example format may be implemented.
        </p>

        <h3><a id="proj-hidrd-dump"></a>HID report descriptor dumping utility &mdash; <em>hidrd-dump</em></h3>

        <table>
            <tbody>
                <tr>
                    <th>Status</th>
                    <td>Release 0.1 available</td>
                </tr>
                <tr>
                    <th>License</th>
                    <td>GPL v2 or later</td>
                </tr>
                <tr>
                    <th>Sources</th>
                    <td>
                        <a href="https://sourceforge.net/projects/digimend/files/hidrd-dump/">Release tarballs</a>
                        <a href="http://digimend.svn.sourceforge.net/viewvc/digimend/hidrd-dump/">SVN browse</a>
                        <a href="https://digimend.svn.sourceforge.net/svnroot/digimend/hidrd-dump/">SVN tree</a>
                    </td>
                </tr>
                <tr>
                    <th>Bugs</th>
                    <td>
                        <a href="https://sourceforge.net/tracker/?func=browse&amp;group_id=233297&amp;atid=1089171&amp;category=1344008">Browse</a>
                        <a href="https://sourceforge.net/tracker/?func=add&amp;group_id=233297&amp;atid=1089171">Submit</a> (please use hidrd-dump category)
                    </td>
                </tr>
            </tbody>
        </table>

        <h4>About</h4>

        <p>
            <em>Hidrd-dump</em> is a tiny utility using libhid to dump HID
            report descriptors from USB devices.
            <strong>Please note:</strong> xxd -r -p chokes on
            hidrd-dump output (see Debian Bug
            <a href="http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=567041">567041</a>),
            so you will need to pass it to tr -d ' \n' first, if
            you wish to convert it to binary.
        </p>

        <h4>Roadmap</h4>

        <p>
            After improving command line interface the development on
            hidrd-dump will be stopped in favor of <em>hid-dump</em> &mdash;
            a new project based on libusb 1.0.
        </p>


        <h3><a id="proj-evdev-dump"></a>Evdev stream dumping utility &mdash; <em>evdev-dump</em></h3>

        <table>
            <tbody>
                <tr>
                    <th>Status</th>
                    <td>Release 0.2 available</td>
                </tr>
                <tr>
                    <th>License</th>
                    <td>GPL v2 or later</td>
                </tr>
                <tr>
                    <th>Sources</th>
                    <td>
                        <a href="https://sourceforge.net/projects/digimend/files/evdev-dump/">Release tarballs</a>
                        <a href="http://digimend.svn.sourceforge.net/viewvc/digimend/evdev-dump/">SVN browse</a>
                        <a href="https://digimend.svn.sourceforge.net/svnroot/digimend/evdev-dump/">SVN tree</a>
                    </td>
                </tr>
                <tr>
                    <th>Bugs</th>
                    <td>
                        <a href="https://sourceforge.net/tracker/?func=browse&amp;group_id=233297&amp;atid=1089171&amp;category=1344009">Browse</a>
                        <a href="https://sourceforge.net/tracker/?func=add&amp;group_id=233297&amp;atid=1089171">Submit</a> (please use evdev-dump category)
                    </td>
                </tr>
            </tbody>
        </table>

        <h4>About</h4>

        <p>
            <em>Evdev-dump</em> is a very simple utility for dumping input
            event device streams.
        </p>

        <h4>Roadmap</h4>

        <p>
            Only bug fixing and occasional minor improvements are expected.
        </p>


        <!--  ---------------------------------------------------------  -->
        <h2>How to help</h2>
        <!--  ---------------------------------------------------------  -->

        <p>
            Here is what you can do to help the project right now:
        </p>
        <ul>
            <li>
                Dump all your USB input device descriptors using hidrd-dump and
                <a href="mailto:spbnick@gmail.com?subject=HID report descriptor(s)">send them in</a>.
                Any device descriptor will help, but tablets are especially
                valued, of course.
            </li>
            <li>
                Use project's tools,
                <a href="mailto:spbnick@gmail.com">provide feedback</a>,
                <a href="https://sourceforge.net/tracker/?func=add&amp;group_id=233297&amp;atid=1089171">submit bugs</a>,
                and
                <a href="https://sourceforge.net/tracker/?func=add&amp;group_id=233297&amp;atid=1089174">feature requests</a>.
            </li>
            <li>
                <a href="http://sourceforge.net/tracker/?func=add&amp;group_id=233297&amp;atid=1089173">Contribute your code</a>
                and
                <a href="http://sourceforge.net/project/memberlist.php?group_id=233297">join the project</a>,
                of course!
            </li>
        </ul>

        <p>At last: do anything else you think can help the project, and thank you for your efforts :)!</p>

        <!--  ---------------------------------------------------------  -->
        <h2>History</h2>
        <!--  ---------------------------------------------------------  -->

        <p>
            The project founder participated in the development and release
            of the WizardPen driver 0.5.0 for X.org. After that it became
            apparent that the method used to make it work was inefficient
            and quirky. The driver relied on the invalid event stream
            generated by the kernel USB HID driver, which was confused by
            invalid HID report descriptors used by some of the supported
            tablets.
        </p>

        <p>
            After that, an experiment was made fixing the HID report
            descriptor of a Genius MousePen 8x6 tablet and patching the
            kernel to use it instead of the original. The experiment proved
            successful.
        </p>

        <p>
            Then, after some attempts, the X.org evdev driver was extended
            with minimal tablet support. The stack worked perfectly as a
            whole and it was possible to use the tablet to draw in The GIMP
            and Inkscape.
        </p>

        <p>
            It became apparent that in order to fix other devices two things
            will be needed: a diagnostics collection toolset, the regular
            users could use to collect information about their tablets, and
            a tool to efficiently fix their HID report descriptors.
        </p>

        <p>
            The diagnostics collection wizard was implemented, but it
            captured generic kernel input stream which could be invalid due
            to invalid report descriptors, which had a potential of
            complicating the task. Then, there still was no tool to fix the
            descriptors. So, it was not released.
        </p>

        <p>
            The existing "HID Descriptor Tool", provided by the USB
            Implementers Forum, proved to be insufficient, since it didn't
            support reading descriptors in their native format and was
            generally inconvenient and unstable. Thus the HID report
            descriptor library and tools were started.
        </p>

        <!--  ---------------------------------------------------------  -->
        <h2>Authors</h2>
        <!--  ---------------------------------------------------------  -->

        <dl>
            <dt>
                Nikolai Kondrashov
                &lt;<a href="mailto:spbnick@gmail.com">spbnick@gmail.com</a>&gt;
            </dt>
            <dd>
                The project founder and developer
            </dd>
        </dl>

        <hr>

        <p>
            <a href="http://sourceforge.net/projects/digimend">
                <img src="http://sflogo.sourceforge.net/sflogo.php?group_id=233297&amp;type=11"
                     width="120" height="30"
                     alt="Get DIGImend at SourceForge.net. Fast, secure and Free Open Source software downloads">
            </a>
            <a href="http://validator.w3.org/check?uri=referer">
                <img src="http://www.w3.org/Icons/valid-html401-blue"
                     alt="Valid HTML 4.01 Strict" height="31" width="88">
            </a>
        </p>

        <p>$Id$</p>
    </body>
</html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
            "http://www.w3.org/TR/html4/strict.dtd">
<html>
    <head>
        <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
        <title>DIGImend project</title>
        <style type="text/css">
            img {
                border-style: none;
            }
            tbody th {
                text-align: right;
                line-height: 1em;
            }
            tbody th:after {
                content: ":";
            }
            td {
                line-height: 1em;
            }

        </style>
    </head>
    <body>
        <h1>DIGI<em>mend</em> project</h1>

        <blockquote>
            <p>
                DIGI<em>mend</em> &mdash; digitizer mending. Improving Linux
                support for generic graphics tablets. 
            </p>
        </blockquote>

        <h2>About</h2>
        <p>
            DIGI<em>mend</em> project aims at improving Linux support for
            generic graphics tablets &mdash; those which are cheap, widespread,
            but don't have a proper, dedicated, Linux driver.
        </p>

        <p>
            Essentially, these are any USB-connected tablets not made by Wacom.
            For the latter see
            <a href="http://linuxwacom.sourceforge.net/">The Linux Wacom Project</a>.
        </p>

        <p>
            The project's subjects, instead, are the tablets made by such
            manufacturers as Genius, Trust, Adesso, DigiPro, Vistablet and
            others.
        </p>

        <p>
            The plan, in the first place, is to make these tablets work
            correctly with the Linux kernel's generic USB HID driver. The
            project is based on the assumption that the main problem with
            the kernel support are incorrect or incomplete HID report
            descriptors which the tablets provide.
        </p>

        <p>
            The next layer to fix is the generic X.org input driver &mdash;
            evdev. It needs to be extended to support tablets better.
        </p>

        <p>
            At last, the most remote task is to improve user experience by
            providing GUI tools for tuning tablet response for the input.
            This they really need &mdash; the general quality of such
            tablets is not very high and input could be quirky and
            unreliable.
        </p>

        <h2>Sub-projects</h2>

        <p>
            There is no single program which makes the tablets work, but
            rather a collection of patches, programs and tools which help
            make them.
        </p>

        <h3>Kernel patches</h3>

        <table>
            <tbody>
                <tr>
                    <th>Status</th>
                    <td>Proof-of-concept</td>
                </tr>
                <tr>
                    <th>License</th>
                    <td>GPL v2</td>
                </tr>
                <tr>
                    <th>SVN tree</th>
                    <td>
                        <a
                            href="https://digimend.svn.sourceforge.net/svnroot/digimend/kernel-patches/">
                            https://digimend.svn.sourceforge.net/svnroot/digimend/kernel-patches/
                        </a>
                    </td>
                </tr>
            </tbody>
        </table>

        <p>
        </p>

        <h3>X.org patches</h3>

        <table>
            <tbody>
                <tr>
                    <th>Status</th>
                    <td>Proof-of-concept</td>
                </tr>
                <tr>
                    <th>License</th>
                    <td>MIT</td>
                </tr>
                <tr>
                    <th>SVN tree</th>
                    <td>
                        <a
                            href="https://digimend.svn.sourceforge.net/svnroot/digimend/evdev-patches/">
                            https://digimend.svn.sourceforge.net/svnroot/digimend/evdev-patches/
                        </a>
                    </td>
                </tr>
            </tbody>
        </table>

        <h3>HID report descriptor library and tools - <em>hidrd</em></h3>

        <table>
            <tbody>
                <tr>
                    <th>Status</th>
                    <td>Release 0.1 available</td>
                </tr>
                <tr>
                    <th>License</th>
                    <td>GPL v2 or later</td>
                </tr>
                <tr>
                    <th>SVN tree</th>
                    <td>
                        <a href="https://digimend.svn.sourceforge.net/svnroot/digimend/hidrd/">
                            https://digimend.svn.sourceforge.net/svnroot/digimend/hidrd/
                        </a>
                    </td>
                </tr>
                <tr>
                    <th>Download</th>
                    <td>
                        <a href="https://sourceforge.net/projects/digimend/files/hidrd/">
                            https://sourceforge.net/projects/digimend/files/hidrd/
                        </a>
                    </td>
                </tr>
            </tbody>
        </table>

        <h4>About</h4>
        <p>
            <em>Hidrd</em> is a library and collection of tools for parsing and
            generating HID report descriptors. The main documents used during
            the implementation are
            <a href="http://www.usb.org/developers/devclass_docs/HID1_11.pdf">Device Class Definition for HID 1.11</a>
            and
            <a href="http://www.usb.org/developers/devclass_docs/Hut1_12.pdf">HID Usage Tables 1.12</a>.
        </p>
        <p>
            Currently, native descriptor format is fully supported.  A HID
            report descriptor XML schema is developed and XML writing is
            supported.  A tool called &quot;<em>hidrd-convert</em>&quot; is
            implemented and could be used to convert descriptors from native to
            XML format.
        </p>

        <h4>Roadmap</h4>
        <p>
            The main goal currently is to have XML reading. For that to be done
            efficiently a refactoring of streams library is needed - most
            probably they will be separated into sources and sinks (bug
            <a href="https://sourceforge.net/tracker/?func=detail&aid=2941208&group_id=233297&atid=1089171">2941208</a>)
            with an addition of filters.  Also, source file references (bug
            <a href="https://sourceforge.net/tracker/?func=detail&aid=2951097&group_id=233297&atid=1089171">2951097</a>)
            and conversion error reporting are better be implemented along with
            XML reading.
        </p>
        <p>
            Then validation needs to be cleaned up (bugs
            <a href="https://sourceforge.net/tracker/?func=detail&aid=2950561&group_id=233297&atid=1089171">2950561</a>
            and
            <a href="https://sourceforge.net/tracker/?func=detail&aid=2941207&group_id=233297&atid=1089171">2941207</a>).
            After that, the time may come to implement a stream validation
            filter with recommendations from
            <a href="http://www.usb.org/developers/hidpage/hidpar.pdf">HID Parser Error Checking</a>.
        </p>
        <p>
            At some point in time support for outputting to C source and HID specification example format may be implemented.
        </p>

        <h2>History</h2>

        <p>
            The project founder participated in the development and release
            of the WizardPen driver 0.5.0 for X.org. After that it became
            apparent that the method used to make it work was inefficient
            and quirky. The driver relied on the invalid event stream
            generated by the kernel USB HID driver, which was confused by
            invalid HID report descriptors used by some of the supported
            tablets.
        </p>

        <p>
            After that, an experiment was made fixing the HID report
            descriptor of a Genius MousePen 8x6 tablet and patching the
            kernel to use it instead of the original. The experiment proved
            successful.
        </p>

        <p>
            Then, after some attempts, the X.org evdev driver was extended
            with minimal tablet support. The stack worked perfectly as a
            whole and it was possible to use the tablet to draw in The GIMP
            and Inkscape.
        </p>

        <p>
            It became apparent that in order to fix other devices two things
            will be needed: a diagnostics collection toolset, the regular
            users could use to collect information about their tablets, and
            a tool to efficiently fix their HID report descriptors.
        </p>

        <p>
            The diagnostics collection wizard was implemented, but it
            captured generic kernel input stream which could be invalid due
            to invalid report descriptors, which had a potential of
            complicating the task. Then, there still was no tool to fix the
            descriptors. So, it was not released.
        </p>

        <p>
            The existing "HID Descriptor Tool", provided by the USB
            Implementers Forum, proved to be insufficient, since it didn't
            support reading descriptors in their native format and was
            generally inconvenient and unstable. Thus the HID report
            descriptor library and tools were started.
        </p>

        <h2>Authors</h2>

        <dl>
            <dt>
                Nikolai Kondrashov
                &lt;<a href="mailto:spbnick@gmail.com">spbnick@gmail.com</a>&gt;
            </dt>
            <dd>
                The project founder and developer
            </dd>
        </dl>

        <hr>

        <p>
            <a href="http://sourceforge.net/projects/digimend">
                <img src="http://sflogo.sourceforge.net/sflogo.php?group_id=233297&amp;type=11"
                     width="120" height="30"
                     alt="Get DIGImend at SourceForge.net. Fast, secure and Free Open Source software downloads">
            </a>
            <a href="http://validator.w3.org/check?uri=referer">
                <img src="http://www.w3.org/Icons/valid-html401-blue"
                     alt="Valid HTML 4.01 Strict" height="31" width="88">
            </a>
        </p>

        <p>$Id$</p>
    </body>
</html>
